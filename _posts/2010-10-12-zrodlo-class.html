---
layout: post
title: 'Design Patterns: Prototype'
date: '2010-10-12T14:19:00.001+02:00'
author: Monik
tags:
- Programming
- Code_Design
- Design_Patterns
modified_time: '2016-01-15T23:27:47.550+01:00'
blogger_id: tag:blogger.com,1999:blog-5940427300271272994.post-3748868081768289315
blogger_orig_url: http://learningmonik.blogspot.com/2010/10/zrodlo-class.html
commentIssueId: 10
type: book
---

<div dir="ltr" style="text-align: left;" trbidi="on"><i>Summary on basis of the book ,,<a href="http://c2.com/cgi/wiki?DesignPatternsBook">Design Patterns: Elements of Reusable Object-Oriented Software</a>'', by Erich Gamma, Richard Helm, Ralph Johnson, John Vlissides, Addison-Wesley, 1995.</i><br /><i><br /></i>  <br /><pre>class GraphicTool{<br /> draw(){<br />   ...<br />   Product p = this.prototype.<span style="font-weight: bold;">clone();</span><br />   p.draw();<br />   ...<br /> }<br />}</pre>We use it when we do <span style="font-weight: bold;">not know the class' type </span>(Product) <span style="font-weight: bold;">to instatiate </span>at compiliation time. In this way we avoid building a factory for each Product type. We can also use this pattern if we are going to use many instances of Product with similar state (as this way it is more convenient).<br /><br /><span style="font-weight: bold;">Consequences:</span><br /><ul><li><span style="font-weight: bold;">(+) </span>the code in containing class is not application-specific, not bound to any specific product implementation</li><li><span style="font-weight: bold;">(+)</span> adding/removing registered prototypes can be done at run-time</li><li><span style="font-weight: bold;">(+) </span>adjusting the prototype by registering existing class as prototype instead of creating a new class each time</li><li><span style="font-weight: bold;">(+) </span>the user can define the properties of the prototype at run-time - so he can define new objects without programming!</li><li><span style="font-weight: bold;">(+) </span>requires less objects than Factory Method</li><li><span style="font-weight: bold;">(-) </span>requires implementing the <span style="font-style: italic;">clone() </span>method in all subclasses of the Product class; can be hard if some of these classes already exist, or if there are circular references</li><li>remember that many languages that suport cloning by default, suport only shallow cloning</li></ul><span style="font-weight: bold;">Variations:</span><br /><ul><li>clients can use a dynamic set of prototypes (provided by a <span style="font-weight: bold;">prototype manager</span>)</li><li>client might initialize the newly cloned object either by existing setters, or by calling an <span style="font-style: italic;">initialize(...) </span>method</li><li>(* for example Smalltalk and Objective C treat classes as prototypes by default)</li></ul></div>
