---
layout: post
title: 'Design Patterns: Factory Method (Virtual Constructor)'
date: '2010-10-08T06:19:00.000+02:00'
author: Monik
tags:
- Programming
- Code_Design
- Design_Patterns
modified_time: '2016-01-15T23:26:32.770+01:00'
blogger_id: tag:blogger.com,1999:blog-5940427300271272994.post-1573915623097609297
blogger_orig_url: http://learningmonik.blogspot.com/2010/10/design-patterns-factory-method-virtual.html
commentIssueId: 6
type: book
---

<div dir="ltr" style="text-align: left;" trbidi="on"><div style="text-align: left;"><i>Summary on basis of the book ,,<a href="http://c2.com/cgi/wiki?DesignPatternsBook">Design Patterns: Elements of Reusable Object-Oriented Software</a>'', by Erich Gamma, Richard Helm, Ralph Johnson, John Vlissides, Addison-Wesley, 1995.</i><br /><br />abstract class Creator{</div><pre>abstract createProduct();<br />  doSomething() {<br />    ...<br />    Product p = createProduct();<br />    p.blaBlaBla();<br />    ...<br />  }<br />}</pre>We use it when a class (Creator) needs to <span style="font-weight: bold;">create </span>and use an object (Product), but it <span style="font-weight: bold;">does not need to know </span>the type of the object.<br /><br />We make this class <span style="font-style: italic;">abstract</span>, and let its subclasses implement the method <span style="font-style: italic;">factoryMethod()</span>, which will create and return the concrete object. The <span style="font-style: italic;">factoryMethod()</span> method is then for example used in the abstract Creator whenever the Product of unknown type was needed.<br /><br />We can also use this methd when we want to specify the object type to create in Creator subclasses.<br /><br /><span style="font-weight: bold;">Consequences:</span><br /><ul><li><span style="font-weight: bold;">(+) </span>the code in abstract Creator is not application-specific, not bound to any specific product implementation</li><li><span style="font-weight: bold;">(-) </span>each time we want to create specific Product, we have to subclass Creator class - so this method is good if we would do it anyway, otherwise it is just making the application more complicated</li><li>we can also use it pattern when Creator has delegated part of its responsibilities to another class (Manipulator); then in Manipulator we can also use the <span style="font-style: italic;">factoryMethod()</span> methods (in the book the Manipulator class was abstract, and its various subclasses were using  <span style="font-style: italic;">factoryMethod()</span> methods of corresponding subclasses of Creator class; that is why this case was called the case of parralel class hierarchy</li></ul><span style="font-weight: bold;">Variations</span><br /><ul><li>Creator does not have to be abstract; it can be concrete and provide default Product implementation</li><li><span style="font-style: italic;">factoryMethod()</span> can take a parameter telling which object to instantiate; in such case the Creator would create some objects, the rest can be created by Creator's subclasses (but in such case these subclasses must call the Creator's <span style="font-style: italic;">factoryMethod() </span>method at the end)</li><li>and many other variations..</li></ul></div>
